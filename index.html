<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Gone To GitHub</title>
    <script src="jquery.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
<script>



var canvas;
var ctx;

//Current size of each tile default is 100
var TileSize;
var Grid = new Array();

var img_formatted = new Image();
img_formatted.src = 'images/grid/data_formatted.png';
img_formatted.onload = DrawAll;

function GetImageForType(Type)
{
	if(Type == 'Formatted')
	{
		return img_formatted;
	}
}

function GridItem(Type)
{
	this.Type = Type;
	this.Image = GetImageForType(Type);
}

function FillGrid()
{
	//TODO: use actual stuff
	for(i=0;i * TileSize<720;i++)
	{
		Grid[i]=new Array();
		for(j=0;j * TileSize<1280;j++)
		{
			Grid[i][j] = new GridItem('Formatted');
		}
	}
}
			

function DrawGrid()
{
	ctx.fillStyle = "black";
	ctx.fillRect(0,0,1280,720);
	for(i=0;i * TileSize<720;i++)
	{
		for(j=0;j * TileSize<1280;j++)
		{
			ctx.drawImage(Grid[i][j].Image,j + j * TileSize,i 			+ i * TileSize,TileSize,TileSize);
		}
	}
}

function DrawAll()
{
	FillGrid();
	DrawGrid();
}

function MouseWheel(e)
{
	e = e ? e : window.event;
	var wheelData = e.detail ? e.detail * -1 : e.wheelDelta / 	40;
  	TileSize += wheelData ;
	if(TileSize < 5)
	{
		TileSize = 5;
	}
	FillGrid();
	DrawGrid();
	return cancelEvent();
}
function hookEvent(element, eventName, callback)
{
  	if(typeof(element) == "string")
    		element = document.getElementById(element);
  	if(element == null)
    		return;
  	if(element.addEventListener)
  	{
    		if(eventName == 'mousewheel')
      	element.addEventListener('DOMMouseScroll', callback, 			false);  
    		element.addEventListener(eventName, callback, false);
  	}
  	else if(element.attachEvent)
    		element.attachEvent("on" + eventName, callback);
}

function unhookEvent(element, eventName, callback)
{
	if(typeof(element) == "string")
		element = document.getElementById(element);	
	if(element == null)
		return;
  	if(element.removeEventListener)
  	{
   		if(eventName == 'mousewheel')
      	element.removeEventListener('DOMMouseScroll', 				callback, false);  
    		element.removeEventListener(eventName, callback, 				false);
  	}
  	else if(element.detachEvent)
    		element.detachEvent("on" + eventName, callback);
}

function cancelEvent(e)
{
  	e = e ? e : window.event;
  	if(e.stopPropagation)
    		e.stopPropagation();
  	if(e.preventDefault)
    		e.preventDefault();
  	e.cancelBubble = true;
  	e.cancel = true;
  	e.returnValue = false;
  	return false;
}

$(document).ready(function() 
{
	//set it true on mousedown
	$("#can").mousedown(function()
	{
	});

	//reset it on mouseup
	$("#can").mouseup(function(){draw=false;});

	$("#can").mousemove(function(e)
	{ 
	});
	

		

	/* Initialization code. */
	TileSize = 100;
	canvas = document.getElementById("can");
	ctx = canvas.getContext("2d");
	hookEvent("can", 'mousewheel', MouseWheel);

	FillGrid();
	DrawGrid();
	
});

</script>
    <header>
        <h1>Trzeron</h1>
    </header>

    <section>
    <p>
      Yeah, in a state of vague sleep deprivation I may have moved the
      project over to <a href="http://www.github.com">GitHub</a> instead
      of Google Code.
    </p>
    
<canvas id="can" width="1280" height="720" style="background-color:black;"> </canvas> 
    <p>
      Good news is that there's a <a href="http://code.google.com/p/tortoisegit/downloads/detail?name=Tortoisegit-1.6.5.0-64bit.msi">TortoiseGit</a> for
      silly Windows people. I guess. Meh.
    </p>
<!--
<canvas id="can" width="1280" height="720" > </canvas> 
<div id="clr"> 
<div style="background-color:black;"></div> 
<div style="background-color:red;"></div> 
<div style="background-color:green;"> </div> 
<div style="background-color:orange;"> </div>
<a href="#" id="clear" >Clear</a> 
<a id="save" href="#">Save</a> 
<a id="eraser" href="#">Eraser</a> 
<span id="result" ></span> 
        
    </section>
    -->
</body>

</html>
