<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Trzeron</title>
    <script src="jquery.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
<script>
$(document).ready(function() {
	var draw=false;
	var img_formatted = new Image();
	img_formatted.src = 'images/grid/data_formatted.png';
	var canvas = document.getElementById("can");
	var ctx = canvas.getContext("2d");
	ctx.strokeStyle = 'red';
	
	//set it true on mousedown
	$("#can").mousedown(function()
	{
		draw=true;
		ctx.drawImage(img_formatted,0,0);
	});

	//reset it on mouseup
	$("#can").mouseup(function(){draw=false;});

	$("#can").mousemove(function(e)
	{
		if(draw==true)
		{
			ctx.lineWidth = 15;
			ctx.lineCap = "round";
			ctx.beginPath();
			ctx.moveTo(e.pageX,e.pageY-40);
			ctx.lineTo(e.pageX+1,e.pageY-39);
			ctx.stroke();
		}    
	});

        
       //code for color pallete
        $("#clr > div").click(
        function(){
               ctx.strokeStyle = $(this).css("background-color");
        });
     
        //Eraser
        $("#eraser").click(function(){
        ctx.strokeStyle = '#fff';
        });

        //Code for save the image
        $("#save").click(function(){ 
            $("#result").append("<br /><br /><img src="+
            canvas.toDataURL()+ 
           " /><br /><a href="+canvas.toDataURL()+ 
           " target='_blank'>show</a>");
        });
     
        //Clear 
        $("#clear").click(function(){
                 ctx.fillStyle = "#fff";
                 ctx.fillRect(0, 0, canvas.width, canvas.height);
                 ctx.strokeStyle = "red";
                 ctx.fillStyle = "red";
            }
            );
});

</script>
    <header>
        <h1>Trzeron</h1>
    </header>

    <section>
    
<canvas id="can" width="1280" height="720" > </canvas> 
<div id="clr"> 
<div style="background-color:black;"></div> 
<div style="background-color:red;"></div> 
<div style="background-color:green;"> </div> 
<div style="background-color:orange;"> </div>
</div>

<span><a href="#" id="clear" >Clear</a> 
<a id="save" href="#">Save</a> 
<a id="eraser" href="#">Eraser</a> </span>
<span id="result" ></span> 
        
    </section>
    
</body>

</html>
